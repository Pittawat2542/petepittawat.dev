---
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import BlogListPage from '../../components/BlogListPage';
import ThemedPageHero from '../../components/ThemedPageHero.astro';
import Container from '../../components/Container.astro';
import type { BlogPost } from '../../types';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
) as BlogPost[];
const tags = [
	'All',
	...new Set(
		posts
			.flatMap((post) => post.data.tags)
			.flat()
			.sort()
	),
];
---

<BaseLayout title={`${SITE_TITLE} - Blog`} description={SITE_DESCRIPTION}>
	<ThemedPageHero 
		title="Blog" 
		subtitle="Explore my thoughts, tutorials, and insights on technology, programming, and AI." 
		page="blog" 
	/>
	<Container>
		<BlogListPage client:load posts={posts} tags={tags} />
	</Container>
</BaseLayout>

<!-- Removed column-span styling now that list uses CSS grid -->

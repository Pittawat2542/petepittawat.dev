---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { Image } from 'astro:assets';
import profileImage from '@/assets/images/profile.jpg';
import { SITE_TITLE, SITE_DESCRIPTION } from '@/consts';
import ThemedPageHero from '@/components/layout/core/ThemedPageHero';
import Container from '@/components/ui/core/Container';
import GlassCard from '@/components/ui/core/GlassCard';
import Prose from '@/components/content/Prose';
import timeline from '@/content/about/timeline.json';
import publications from '@/content/publications/publications.json';
import projects from '@/content/projects/projects.json';
import talks from '@/content/talks/talks.json';

const totalPublications = publications.length;
const totalProjects = projects.length;
const totalTalks = talks.length;

const quickFacts = [
  {
    label: 'Current role',
    value: 'Research Scientist @ Typhoon',
    hint: 'Building evaluation pipelines and shipping applied LLM products.',
  },
  {
    label: 'Strength',
    value: 'Research-to-product translator',
    hint: '7+ years across applied AI, creative tech, and product teams.',
  },
  {
    label: 'Based in',
    value: 'Bangkok ↔ Tokyo',
    hint: 'Remote-friendly, partnering with teams across APAC.',
  },
];

const nowFocus = [
  'Running Typhoon’s evaluation lab so new reasoning models stay dependable.',
  'Designing prompt architectures and workflows that balance creativity with control.',
  'Writing about reliable creativity and sharing playbooks for applied teams.',
];

const currentThemes = [
  {
    title: 'Reliable creativity',
    description:
      'Guardrails that keep generative systems imaginative without drifting from the truth.',
  },
  {
    title: 'LLM-enabled workflows',
    description:
      'Evaluation rigs, orchestration patterns, and UI loops that ship research-grade tools.',
  },
  {
    title: 'Community amplification',
    description: 'Mentoring researchers and builders so knowledge compounds across the region.',
  },
];

const expertiseStats = [
  { value: totalProjects, label: 'Projects shipped' },
  { value: totalPublications, label: 'Research & essays published' },
  { value: totalTalks, label: 'Talks & workshops' },
];

const spotlightTimeline = timeline.filter(item => item.highlight);

const backgroundNotes = [
  'I started in interdisciplinary labs collaborating with clinicians, designers, and researchers. Translating between rigor and storytelling shaped how I work.',
  'Today I lead applied research at Typhoon (SCB 10X R&D), pairing evaluation rigs with product craft so new models become reliable workflows.',
  'Before that I supported teams at LINE Shopping, national innovation programs, and community initiatives opening tech pathways for Thai students.',
];

const educationEntries = [
  {
    title: 'M.Eng., Intelligent Computer Entertainment Lab, Ritsumeikan University',
    period: '2022 — 2024',
    summary:
      'Valedictorian focusing on creative AI, evaluation tooling, and dependable reasoning systems.',
  },
  {
    title: 'B.Sc. Computer Science, KMUTT (First-class honours)',
    period: '2017 — 2021',
    summary: 'Petchra Pra Jom Klao Scholarship recipient and cohort-topping graduate.',
  },
];

const communityHighlights = [
  {
    title: 'Applied research collaborations',
    description:
      'Led multi-disciplinary projects with KMUTT, Siriraj Hospital, and national innovation programs.',
    bullets: [
      'Shipped AR, web, and language systems that moved from prototypes to everyday tools.',
      'Set up evaluation and delivery rituals that kept cross-functional teams aligned.',
    ],
  },
  {
    title: 'Industry & mentorship',
    description:
      'Support fast-paced product teams while mentoring the next wave of builders and researchers.',
    bullets: [
      'Contributed to LINE Shopping’s platform evolution and large-scale Vue migrations.',
      'Founded Google Developer Student Clubs KMUTT and mentor regional programs.',
    ],
  },
];

const serviceHighlights = [
  'Directed an eight-person rapid-response team during COVID-19 to deliver nationwide donations.',
  'Organised Junior Programmer Camp XV, opening computer science pathways for students across Thailand.',
];

const learningHighlights = [
  'Learning stays a ritual—pairing online courses with experiments keeps me curious.',
  'I teach and mentor to stress-test my own understanding and multiply collective progress.',
];
---

<BaseLayout title={`${SITE_TITLE} - About`} description={SITE_DESCRIPTION} page="about">
  <Container className="space-y-16 pt-10 pb-24 lg:space-y-20">
    <ThemedPageHero
      title="About Pete"
      subtitle="Research engineer translating creative AI into reliable products people trust."
      page="about"
    />

    <section id="intro" class="intro-grid">
      <GlassCard variant="premium" className="profile-card">
        <div class="profile-card__header">
          <div class="profile-card__portrait">
            <Image
              src={profileImage}
              alt="Pete's profile picture"
              widths={[160, 200, 260, 320]}
              sizes="(min-width: 1024px) 7rem, (min-width: 768px) 6rem, 5.5rem"
              loading="lazy"
              decoding="async"
              class="profile-card__image"
            />
          </div>
          <div class="profile-card__meta">
            <span class="eyebrow">Bangkok ↔ Tokyo</span>
            <p class="profile-card__role">Research Scientist @ Typhoon</p>
          </div>
        </div>
        <div class="profile-card__body">
          <h2>Hi, I’m Pittawat (Pete).</h2>
          <p>
            I help teams ship dependable reasoning systems that feel human, joyful, and safe. My
            toolkit blends applied research, evaluation rigs, and product craft honed across APAC.
          </p>
        </div>
        <div class="profile-card__links" aria-label="Connect">
          <a
            class="profile-card__link"
            href="https://www.linkedin.com/in/pittawat-tav/"
            target="_blank"
          >
            LinkedIn
          </a>
          <a class="profile-card__link" href="https://github.com/Pittawat2542" target="_blank">
            GitHub
          </a>
          <a
            class="profile-card__link"
            href="https://scholar.google.co.jp/citations?user=2CFoP9cAAAAJ&hl=en"
            target="_blank"
          >
            Google Scholar
          </a>
        </div>
      </GlassCard>

      <div class="intro-grid__aside">
        <GlassCard variant="glow" className="snapshot-card">
          <span class="eyebrow">Snapshot</span>
          <div class="snapshot-grid">
            {
              quickFacts.map(item => (
                <div class="snapshot-item">
                  <p class="snapshot-item__label">{item.label}</p>
                  <p class="snapshot-item__value">{item.value}</p>
                  <p class="snapshot-item__hint">{item.hint}</p>
                </div>
              ))
            }
          </div>
        </GlassCard>

        <GlassCard variant="elevated" className="now-card">
          <span class="eyebrow">Right now</span>
          <ul>
            {nowFocus.map(point => <li>{point}</li>)}
          </ul>
        </GlassCard>

        <GlassCard variant="elevated" className="stats-card">
          <span class="eyebrow">Reach so far</span>
          <div class="stats-grid">
            {
              expertiseStats.map(stat => (
                <div class="stats-item">
                  <span class="stats-item__value">{stat.value}</span>
                  <span class="stats-item__label">{stat.label}</span>
                </div>
              ))
            }
          </div>
        </GlassCard>
      </div>
    </section>

    <section id="themes" class="section-block">
      <div class="section-heading">
        <h2>What drives my work</h2>
        <p>Patterns that guide how I design, evaluate, and share dependable AI systems.</p>
      </div>
      <div class="themes-grid">
        {
          currentThemes.map(theme => (
            <GlassCard variant="premium" className="theme-card">
              <h3>{theme.title}</h3>
              <p>{theme.description}</p>
            </GlassCard>
          ))
        }
      </div>
    </section>

    <section id="background" class="section-block">
      <div class="section-heading">
        <h2>The short story</h2>
        <p>Here’s the context people usually want before we partner up.</p>
      </div>
      <Prose className="prose-block">
        {backgroundNotes.map(note => <p>{note}</p>)}
      </Prose>
    </section>

    <section id="journey" class="section-block">
      <div class="section-heading">
        <h2>Deeper context</h2>
        <p>Dig in for milestones, partners, and rituals that shape how I work.</p>
      </div>

      <div class="journey-grid">
        <GlassCard variant="glow" className="spotlight-card">
          <span class="eyebrow">Spotlight milestones</span>
          <ol>
            {
              spotlightTimeline.map(item => (
                <li>
                  <p class="spotlight-card__title">{item.title}</p>
                  <p class="spotlight-card__description">{item.description}</p>
                </li>
              ))
            }
          </ol>
        </GlassCard>

        <GlassCard variant="premium" className="journey-card">
          <h3>Education</h3>
          <div class="journey-card__group">
            {
              educationEntries.map(entry => (
                <div>
                  <div class="journey-card__header">
                    <p>{entry.title}</p>
                    <span>{entry.period}</span>
                  </div>
                  <p class="journey-card__summary">{entry.summary}</p>
                </div>
              ))
            }
          </div>
        </GlassCard>

        <GlassCard variant="premium" className="journey-card">
          <h3>Collaborations & community</h3>
          <div class="journey-card__group">
            {
              communityHighlights.map(item => (
                <div>
                  <p class="journey-card__subhead">{item.title}</p>
                  <p class="journey-card__summary">{item.description}</p>
                  <ul class="journey-card__list">
                    {item.bullets.map(point => (
                      <li>{point}</li>
                    ))}
                  </ul>
                </div>
              ))
            }
          </div>
        </GlassCard>

        <GlassCard variant="premium" className="journey-card">
          <h3>Service & learning rituals</h3>
          <ul class="journey-card__list">
            {serviceHighlights.map(point => <li>{point}</li>)}
          </ul>
          <ul class="journey-card__list journey-card__list--muted">
            {learningHighlights.map(point => <li>{point}</li>)}
          </ul>
        </GlassCard>
      </div>

      <details class="timeline-details">
        <summary>Read the extended timeline</summary>
        <ol>
          {
            timeline.map(item => (
              <li>
                <p class="timeline-details__title">{item.title}</p>
                <p class="timeline-details__description">{item.description}</p>
              </li>
            ))
          }
        </ol>
      </details>
    </section>
  </Container>
</BaseLayout>

<style>
  .intro-grid {
    display: grid;
    gap: 1.5rem;
  }

  @media (min-width: 1024px) {
    .intro-grid {
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      align-items: stretch;
    }
  }

  .profile-card {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    padding: clamp(1.6rem, 3vw, 2.4rem);
  }

  .profile-card__header {
    display: flex;
    align-items: center;
    gap: 1.25rem;
  }

  .profile-card__portrait {
    position: relative;
    width: clamp(5rem, 7vw, 6.5rem);
    height: clamp(5rem, 7vw, 6.5rem);
    border-radius: 1.6rem;
    overflow: hidden;
  }

  .profile-card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .profile-card__meta {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
  }

  .profile-card__role {
    margin: 0;
    font-size: 1.05rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
  }

  .profile-card__body {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
  }

  .profile-card__body h2 {
    margin: 0;
    font-size: clamp(1.65rem, 1.6vw + 1.2rem, 2rem);
    font-weight: 700;
    letter-spacing: -0.01em;
    color: rgba(255, 255, 255, 0.95);
  }

  .profile-card__body p {
    margin: 0;
    color: rgba(255, 255, 255, 0.78);
    line-height: 1.7;
  }

  .profile-card__links {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .profile-card__link {
    padding: 0.45rem 0.9rem;
    border-radius: 9999px;
    border: 1px solid rgba(148, 163, 184, 0.26);
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.88);
    transition:
      border-color 0.2s ease,
      transform 0.2s ease;
  }

  .profile-card__link:hover {
    transform: translateY(-2px);
    border-color: color-mix(in oklab, var(--accent-about) 40%, rgba(148, 163, 184, 0.26));
  }

  .intro-grid__aside {
    display: grid;
    gap: 1.2rem;
  }

  .snapshot-card,
  .now-card,
  .stats-card {
    padding: clamp(1.4rem, 2.5vw, 2rem);
  }

  .eyebrow {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: rgba(255, 255, 255, 0.6);
  }

  .snapshot-grid {
    margin-top: 1.2rem;
    display: grid;
    gap: 1.15rem;
  }

  @media (min-width: 640px) {
    .snapshot-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1.35rem;
    }
  }

  .snapshot-item {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
  }

  .snapshot-item__label {
    font-size: 0.75rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.55);
  }

  .snapshot-item__value {
    font-size: 1.05rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.92);
  }

  .snapshot-item__hint {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.68);
    line-height: 1.5;
  }

  .now-card ul {
    margin-top: 1rem;
    display: grid;
    gap: 0.75rem;
    padding-left: 1.1rem;
    color: rgba(255, 255, 255, 0.78);
  }

  .now-card li {
    line-height: 1.55;
  }

  .stats-grid {
    margin-top: 1.2rem;
    display: grid;
    gap: 1rem;
  }

  @media (min-width: 480px) {
    .stats-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }

  .stats-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    align-items: flex-start;
  }

  .stats-item__value {
    font-size: 1.4rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.94);
  }

  .stats-item__label {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: rgba(255, 255, 255, 0.6);
  }

  .section-block {
    display: flex;
    flex-direction: column;
    gap: 1.75rem;
  }

  .section-heading {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
  }

  .section-heading h2 {
    margin: 0;
    font-size: clamp(1.6rem, 1.2vw + 1.3rem, 2rem);
    color: rgba(255, 255, 255, 0.94);
  }

  .section-heading p {
    margin: 0;
    color: rgba(255, 255, 255, 0.72);
    max-width: 60ch;
  }

  .themes-grid {
    display: grid;
    gap: 1.2rem;
  }

  @media (min-width: 768px) {
    .themes-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }

  .theme-card {
    padding: clamp(1.5rem, 2.6vw, 2rem);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .theme-card h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.92);
  }

  .theme-card p {
    margin: 0;
    color: rgba(255, 255, 255, 0.72);
    line-height: 1.6;
  }

  .prose-block {
    display: grid;
    gap: 1rem;
    color: rgba(255, 255, 255, 0.78);
  }

  .journey-grid {
    display: grid;
    gap: 1.2rem;
  }

  @media (min-width: 1024px) {
    .journey-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .spotlight-card {
    padding: clamp(1.6rem, 2.8vw, 2.2rem);
  }

  .spotlight-card ol {
    margin-top: 1.1rem;
    display: grid;
    gap: 0.9rem;
    padding-left: 1.2rem;
    color: rgba(255, 255, 255, 0.8);
  }

  .spotlight-card__title {
    font-weight: 600;
    color: rgba(255, 255, 255, 0.92);
  }

  .spotlight-card__description {
    margin: 0.15rem 0 0;
    line-height: 1.55;
  }

  .journey-card {
    padding: clamp(1.5rem, 2.5vw, 2.1rem);
    display: flex;
    flex-direction: column;
    gap: 1.1rem;
  }

  .journey-card h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.92);
  }

  .journey-card__group {
    display: grid;
    gap: 1rem;
  }

  .journey-card__header {
    display: flex;
    flex-direction: column;
    gap: 0.3rem;
  }

  @media (min-width: 480px) {
    .journey-card__header {
      flex-direction: row;
      justify-content: space-between;
      gap: 0.75rem;
    }
  }

  .journey-card__header p {
    margin: 0;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
  }

  .journey-card__header span {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .journey-card__subhead {
    margin: 0;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.88);
  }

  .journey-card__summary {
    margin: 0.25rem 0 0;
    color: rgba(255, 255, 255, 0.72);
    line-height: 1.55;
  }

  .journey-card__list {
    margin: 0.8rem 0 0;
    padding-left: 1.2rem;
    display: grid;
    gap: 0.65rem;
    color: rgba(255, 255, 255, 0.74);
  }

  .journey-card__list--muted {
    margin-top: 1.2rem;
    border-top: 1px solid rgba(148, 163, 184, 0.2);
    padding-top: 1rem;
    color: rgba(255, 255, 255, 0.62);
  }

  .timeline-details {
    margin-top: 1.6rem;
    padding: 1.2rem 1.4rem;
    border-radius: 1.1rem;
    border: 1px dashed rgba(148, 163, 184, 0.3);
    background: rgba(15, 23, 42, 0.45);
  }

  .timeline-details summary {
    cursor: pointer;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.88);
  }

  .timeline-details[open] summary {
    margin-bottom: 1rem;
  }

  .timeline-details ol {
    display: grid;
    gap: 0.85rem;
    padding-left: 1.2rem;
    color: rgba(255, 255, 255, 0.72);
  }

  .timeline-details__title {
    margin: 0;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
  }

  .timeline-details__description {
    margin: 0.15rem 0 0;
    line-height: 1.55;
  }
</style>

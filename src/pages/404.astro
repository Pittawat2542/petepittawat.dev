---
import BaseLayout from '../layouts/BaseLayout.astro';
import GlassCard from '../components/GlassCard';
import GlassButton from '../components/ui/navigation/GlassButton';
import Container from '../components/Container';
Astro.response.status = 404;
---

<BaseLayout title="404 - Page Not Found" description="The page you were looking for doesn't exist.">
  <section class="relative">
    <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
      <div class="absolute -top-32 left-1/2 -translate-x-1/2 w-[1200px] h-[1200px] rounded-full blur-3xl opacity-20"
           style="background: radial-gradient(circle, color-mix(in oklab, var(--accent) 25%, transparent), transparent 70%);"></div>
    </div>

    <Container className="mt-10 md:mt-16 max-w-screen-md text-center">
      <div class="inline-flex items-center justify-center rounded-2xl border border-[color:var(--white)]/10 px-5 py-2 text-xs md:text-sm text-[color:var(--white)]/70 mb-4">
        <span class="inline-flex items-center gap-2">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          Error 404
        </span>
      </div>
      <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight gradient-text-accent">404</h1>
      <p class="mt-3 md:mt-4 text-base md:text-lg text-[color:var(--white)]/85">Sorry, we couldn't find the page you're looking for.</p>
      <div class="mt-6 flex items-center justify-center gap-3">
        <GlassButton href="/" variant="secondary" size="md" className="btn-magnetic" icon="arrow-right" iconPosition="right">
          Go to homepage
        </GlassButton>
        <GlassButton id="open-search" as="button" variant="ghost" size="md" className="btn-magnetic" icon="search" iconPosition="left">
          Open search
        </GlassButton>
      </div>

      <div class="mt-10 grid grid-cols-1 sm:grid-cols-2 gap-3 text-left">
        <GlassCard className="hover-card p-5">
          <h2 class="text-base font-semibold mb-1">Popular destinations</h2>
          <ul class="mt-2 space-y-1.5">
            <li><a class="link-underline text-[color:var(--accent)]" href="/blog">Blog</a></li>
            <li><a class="link-underline text-[color:var(--accent)]" href="/projects">Projects</a></li>
            <li><a class="link-underline text-[color:var(--accent)]" href="/publications">Publications</a></li>
            <li><a class="link-underline text-[color:var(--accent)]" href="/talks">Talks</a></li>
          </ul>
        </GlassCard>
        <GlassCard className="hover-card p-5">
          <h2 class="text-base font-semibold mb-1">Need help?</h2>
          <p class="text-sm text-[color:var(--white)]/80">Try searching for a keyword, or head back to the homepage to explore featured content.</p>
        </GlassCard>
      </div>
    </Container>
  </section>

  <script is:inline>
    // Wire up the page button to open the header search
    const btn = document.getElementById('open-search');
    const openSearch = () => {
      const triggers = document.querySelectorAll('button[aria-label="Open search"]');
      for (const t of triggers) { if (typeof (t).click === 'function') { (t).click(); break; } }
    };
    if (btn) btn.addEventListener('click', openSearch);
  </script>
</BaseLayout>

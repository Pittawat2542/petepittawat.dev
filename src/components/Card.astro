---
interface Props {
  href: string;
  ariaLabel: string;
  title: string;
  count: number;
  linkText: string;
  icon: string;
  accentColor: string;
}

const { href, ariaLabel, title, count, linkText, icon, accentColor } = Astro.props;
---

<li class='h-full'>
  <a href={href} aria-label={ariaLabel}
    class={`group block h-full rounded-3xl bg-[color:var(--black-nav)]/50 backdrop-blur-md
               p-5 md:p-6 shadow-[0_12px_30px_-12px_rgba(0,0,0,.6)]
               transition-all duration-300 motion-safe:hover:-translate-y-1
               focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--${accentColor})]/40`}>
    <figure class='relative'>
      <!-- portrait-safe frame -->
      <div class='rounded-2xl bg-white/[.03] p-3 shadow-[inset_0_1px_0_rgba(255,255,255,.05)]'>
        <div class='aspect-[3/4] w-full overflow-hidden rounded-xl bg-white/[.02] flex items-center justify-center'>
          <div class='h-full w-full flex items-center justify-center' set:html={icon} />
        </div>
      </div>
      <!-- accent halo on hover (no border) -->
      <span
        class='pointer-events-none absolute inset-0 rounded-3xl opacity-0 transition-opacity duration-300
                        group-hover:opacity-100'
        style={`box-shadow: 0 0 0 1px color-mix(in oklab, var(--${accentColor}) 45%, transparent),
                               0 20px 50px -20px color-mix(in oklab, var(--${accentColor}) 45%, transparent);`}></span>
    </figure>

    <div class='mt-5 text-center'>
      <p class={`text-xs tracking-wider uppercase text-[color:var(--${accentColor})]`}>
        {title}
      </p>
      <p
        class={`text-4xl font-bold tracking-tight mt-1 bg-gradient-to-r from-[color:var(--${accentColor})] to-[color:var(--${accentColor})]/70 bg-clip-text text-transparent`}>
        {count}
      </p>
      <span
        class={`mt-2 inline-flex items-center gap-1 text-sm text-[color:var(--${accentColor})] font-medium
                       rounded-full px-2.5 py-1 bg-[color:var(--${accentColor})]/[.08]
                       transition-colors duration-200 group-hover:bg-[color:var(--${accentColor})]/[.12]`}>
        {linkText}
      </span>
    </div>
  </a>
</li>
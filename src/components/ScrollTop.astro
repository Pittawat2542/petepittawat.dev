---
import { ArrowUp } from 'lucide-astro';
const label = 'Back to top';
---

<button
  id="scroll-top"
  aria-label={label}
  title="Scroll to top"
  class="fixed bottom-6 right-6 z-30 hidden md:inline-flex items-center justify-center h-11 w-11 rounded-full glass-button bg-muted/20 border-muted/40 hover:bg-muted/30 hover:border-muted/60 text-[color:var(--white)] hover:text-[color:var(--accent)] transition-[transform,box-shadow,color,background-color,border-color] duration-150 ease-out will-change-transform"
>
  <ArrowUp class="h-5 w-5" aria-hidden="true" />
</button>

<script>
  const btn = document.getElementById('scroll-top');
  function onScroll() {
    if (!btn) return;
    btn.style.display = window.scrollY > 400 ? 'inline-flex' : 'none';
  }
  window.addEventListener('scroll', onScroll, { passive: true });
  onScroll();
  btn?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
</script>
